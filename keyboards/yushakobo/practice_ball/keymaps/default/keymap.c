// Copyright 2023 QMK
// SPDX-License-Identifier: GPL-2.0-or-later

#include QMK_KEYBOARD_H

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [0] = LAYOUT(
        KC_NO,   KC_NO,   KC_NO,   MS_BTN2,
        MS_BTN1, KC_1,    KC_2,    MO(1)
    ),
    [1] = LAYOUT(
        KC_NO,   KC_NO,   KC_NO,   MS_BTN2,
        MS_BTN1, _______, _______, _______
    ),
    [2] = LAYOUT(
        KC_NO,   KC_NO,   KC_NO,   MS_BTN2,
        MS_BTN1, _______, _______, _______
    ),
    [3] = LAYOUT(
        KC_NO,   KC_NO,   KC_NO,   MS_BTN2,
        MS_BTN1, MS_BTN3, MS_BTN4, MS_BTN5
    )
};

#if defined(ENCODER_MAP_ENABLE)
const uint16_t PROGMEM encoder_map[][NUM_ENCODERS][NUM_DIRECTIONS] = {
    [0] =   { ENCODER_CCW_CW(MS_WHLU, MS_WHLD)},
    [1] =   { ENCODER_CCW_CW(MS_WHLU, MS_WHLD)},
    [2] =   { ENCODER_CCW_CW(MS_WHLU, MS_WHLD)},
    [3] =   { ENCODER_CCW_CW(MS_WHLU, MS_WHLD)}
};
#endif

#ifdef OLED_ENABLE
oled_rotation_t oled_init_kb(oled_rotation_t rotation) {
    return OLED_ROTATION_0;
}

bool oled_task_kb(void) {

    if (!oled_task_user()) { return false; }

    static const char PROGMEM my_logo[] = {
    // '遊舎工房ロゴ', 128x32px
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0x00, 0x80, 0x80, 0xe4, 0xe4, 0xe6, 0xe2, 0xe2,
0x82, 0xc6, 0xc6, 0xc6, 0xc6, 0xc6, 0x8c, 0x8c, 0x8c, 0x9c, 0x18, 0x18, 0x10, 0x90, 0xc0, 0xc0,
0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0x40, 0x00, 0x00, 0x00, 0x00,
0x00, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0,
0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0x40, 0x00, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0,
0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0x40, 0x40, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x08, 0x04, 0x02, 0x00, 0x00, 0x00,
0x00, 0x00, 0xc0, 0xdf, 0xdf, 0xdf, 0xdf, 0xdf, 0x80, 0xff, 0xff, 0x1f, 0xff, 0xff, 0xff, 0xf9,
0x83, 0xef, 0xff, 0xff, 0xff, 0xfd, 0x9d, 0x01, 0x00, 0x08, 0x6c, 0x6e, 0x6f, 0x6f, 0x6f, 0x6f,
0xf7, 0xf3, 0xf1, 0xf0, 0xf0, 0xf1, 0x67, 0x6f, 0x6f, 0x6f, 0x6f, 0x2f, 0x0e, 0x08, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x03, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x23, 0x23, 0x23, 0xa3,
0xa3, 0xa3, 0xa3, 0xa3, 0xbf, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0,
0x60, 0x10, 0x0c, 0x06, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0xf0, 0xfe, 0xff, 0xff, 0xff, 0x8f, 0xf8, 0xff, 0x1f, 0x79, 0x7f, 0x7f, 0x7f, 0x1f, 0x79,
0x7f, 0x7f, 0x7f, 0x7f, 0x1f, 0x01, 0x01, 0x00, 0xe2, 0xfb, 0xfb, 0xfb, 0xfb, 0x7b, 0x1b, 0x1b,
0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0x03, 0x02, 0x08, 0x1c, 0x38,
0x78, 0x70, 0x60, 0x00, 0xc0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0xe0, 0xfe, 0xff, 0xff, 0xff, 0x7f, 0x0f, 0xe3, 0xff, 0xff, 0xff, 0xff,
0xff, 0x9f, 0xdb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0x0b, 0x03, 0x10, 0x08, 0x04, 0x02, 0x01, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x07, 0x07, 0x07, 0x07, 0x07, 0x01, 0x01, 0x01, 0x01, 0x01, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
0x03, 0x02, 0x06, 0x06, 0x02, 0x00, 0x00, 0x04, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x02, 0x02,
0x02, 0x02, 0x02, 0x02, 0x06, 0x07, 0x07, 0x07, 0x07, 0x07, 0x00, 0x00, 0x00, 0x03, 0x03, 0x03,
0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x0b, 0x0b, 0x1b, 0x1b, 0x1b, 0x33, 0x33, 0x33,
0x73, 0x63, 0x60, 0x67, 0x67, 0x67, 0x67, 0x67, 0x63, 0x24, 0x27, 0x27, 0x27, 0x17, 0x17, 0x03,
0x01, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    };
    oled_write_raw_P(my_logo, sizeof(my_logo));
    oled_set_cursor(0, 5);
    return false;
}
#endif

void pointing_device_init_user(void) {
    set_auto_mouse_layer(3);
    set_auto_mouse_enable(true);
}
